# æœ¬åœ°æ–‡ä»¶æœç´¢å·¥å…·

## æ¦‚è¿°

æœ¬é¡¹ç›®å®ç°äº†ä¸¤ä¸ªå¼ºå¤§çš„æœ¬åœ°æ–‡ä»¶æœç´¢å·¥å…·ï¼š**Glob** å’Œ **Grep**ï¼Œé‡‡ç”¨ç¯å¢ƒè‡ªé€‚åº”é™çº§ç­–ç•¥ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆã€‚

## æ ¸å¿ƒç‰¹æ€§

- **ç¯å¢ƒè‡ªé€‚åº”**ï¼šæ ¹æ® Bun/Node.js ç¯å¢ƒè‡ªåŠ¨ä¼˜åŒ–
- **å¤šå±‚é™çº§**ï¼šripgrep â†’ git grep â†’ system grep â†’ JavaScript
- **é›¶å¤±è´¥ä¿è¯**ï¼šJavaScript ä¿åº•ï¼Œ100% å¯ç”¨
- **æ™ºèƒ½æ’åº**ï¼š24 å°æ—¶å†…ä¿®æ”¹çš„æ–‡ä»¶ä¼˜å…ˆ

## å·¥å…·å¯¹æ¯”

| å·¥å…·     | ç”¨é€”         | æœç´¢ç›®æ ‡    | è¾“å…¥æ¨¡å¼               |
| -------- | ------------ | ----------- | ---------------------- |
| **Glob** | æ–‡ä»¶è·¯å¾„æœç´¢ | æ–‡ä»¶å/è·¯å¾„ | Glob æ¨¡å¼ï¼ˆå¦‚ `*.ts`ï¼‰ |
| **Grep** | æ–‡ä»¶å†…å®¹æœç´¢ | æ–‡ä»¶å†…å®¹    | æ­£åˆ™è¡¨è¾¾å¼             |

## æ€§èƒ½æ¦‚è§ˆ

### Glob æ€§èƒ½ï¼ˆ1000 ä¸ªæ–‡ä»¶ï¼‰

| æ–¹æ¡ˆ          | è€—æ—¶  | è¯„çº§       |
| ------------- | ----- | ---------- |
| Bun + ripgrep | 62ms  | â­â­â­â­â­ |
| glob npm åŒ…   | 103ms | â­â­â­â­   |

### Grep æ€§èƒ½ï¼ˆå¤§å‹é¡¹ç›®ï¼‰

| ç­–ç•¥        | è€—æ—¶  | è¯„çº§       |
| ----------- | ----- | ---------- |
| git grep    | 0.12s | â­â­â­â­â­ |
| ripgrep     | 0.25s | â­â­â­â­â­ |
| system grep | 1.1s  | â­â­â­     |
| JavaScript  | 4.5s  | â­â­       |

## å¿«é€Ÿå¼€å§‹

### Glob ç¤ºä¾‹

```typescript
// æŸ¥æ‰¾æ‰€æœ‰ TypeScript æ–‡ä»¶
await GlobTool.execute({ pattern: '**/*.ts' });

// æŸ¥æ‰¾æµ‹è¯•æ–‡ä»¶
await GlobTool.execute({ pattern: '**/*.test.{ts,tsx}' });
```

### Grep ç¤ºä¾‹

```typescript
// æœç´¢å¼‚æ­¥å‡½æ•°
await GrepTool.execute({ pattern: 'async function' });

// åœ¨ TypeScript æ–‡ä»¶ä¸­æœç´¢
await GrepTool.execute({
  pattern: 'export.*class',
  include: '*.ts',
});
```

## è¯¦ç»†æ–‡æ¡£

ğŸ“– **[å®Œæ•´å®ç°æŒ‡å—](./æœ¬åœ°æ–‡ä»¶æœç´¢å·¥å…·-å®Œæ•´å®ç°æŒ‡å—.md)**
ğŸ“Œ **[Glob vs ripgrep æ€§èƒ½ä¸ä¸€è‡´æ€§ç¬”è®°ï¼ˆé‡æ„ç”¨ï¼‰](./Glob-vs-ripgrep-æ–‡ä»¶æšä¸¾ä¸statæ€§èƒ½ç¬”è®°.md)**

åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

- æ¶æ„è®¾è®¡
- ç¯å¢ƒè‡ªé€‚åº”é™çº§ç­–ç•¥
- Ripgrep åº•å±‚å®ç°
- Glob/Grep å·¥å…·å®ç°
- æ€§èƒ½ä¼˜åŒ–
- å®‰å…¨ä¸å®¹é”™è®¾è®¡
- ä½¿ç”¨ç¤ºä¾‹

## é™çº§ç­–ç•¥

### Glob å·¥å…·

```
Bun + ripgrep å¯ç”¨? â†’ ripgrep + Bun.stat() â­â­â­â­â­
        â†“ å¦
    glob npm åŒ… â­â­â­â­
```

### Grep å·¥å…·

```
ripgrep å¯ç”¨? â†’ ripgrep â­â­â­â­â­
    â†“ å¦
Git ä»“åº“? â†’ git grep â­â­â­â­â­
    â†“ å¦
grep å‘½ä»¤? â†’ system grep â­â­â­
    â†“ å¦
JavaScript ä¿åº• âœ… (100% å¯ç”¨)
```

## æ–‡ä»¶ç»“æ„

```
packages/core/src/core/tool/
â”œâ”€â”€ Glob/
â”‚   â”œâ”€â”€ definitions.ts
â”‚   â”œâ”€â”€ executors.ts
â”‚   â””â”€â”€ strategies/
â”œâ”€â”€ Grep/
â”‚   â”œâ”€â”€ definitions.ts
â”‚   â”œâ”€â”€ executors.ts
â”‚   â””â”€â”€ strategies/
â””â”€â”€ utils/
    â”œâ”€â”€ runtime.ts
    â”œâ”€â”€ tool-detection.ts
    â””â”€â”€ ripgrep.ts
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**åˆ›å»ºæ—¶é—´**ï¼š2025-01-06
