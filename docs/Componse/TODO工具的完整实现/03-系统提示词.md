# 03 - ç³»ç»Ÿæç¤ºè¯

> ç³»ç»Ÿæç¤ºè¯ä¸­å…³äº TODO å·¥å…·çš„ä½¿ç”¨æŒ‡å¯¼
>
> åŒ…å«ï¼šè‹±æ–‡åŸæ–‡ + ä¸­æ–‡ç¿»è¯‘

---

## ğŸ“‹ ç›®å½•

1. [Task Management ç« èŠ‚](#task-management-ç« èŠ‚)
2. [Doing Tasks ç« èŠ‚](#doing-tasks-ç« èŠ‚)
3. [Tool Usage Policy ç« èŠ‚](#tool-usage-policy-ç« èŠ‚)
4. [è®¾è®¡åˆ†æ](#è®¾è®¡åˆ†æ)

---

## ä¸€ã€Task Management ç« èŠ‚

### 1.1 è‹±æ–‡åŸæ–‡

**æ–‡ä»¶ä½ç½®**ï¼š`packages/opencode/src/session/prompt/anthropic.txt:23-67`

```
# Task Management
You have access to the TodoWrite tools to help you manage and plan tasks. Use these tools VERY frequently to ensure that you are tracking your tasks and giving the user visibility into your progress.
These tools are also EXTREMELY helpful for planning tasks, and for breaking down larger complex tasks into smaller steps. If you do not use this tool when planning, you may forget to do important tasks - and that is unacceptable.

It is critical that you mark todos as completed as soon as you are done with a task. Do not batch up multiple tasks before marking them as completed.

Examples:

<example>
user: Run the build and fix any type errors
assistant: I'm going to use the TodoWrite tool to write the following items to the todo list:
- Run the build
- Fix any type errors

I'm now going to run the build using Bash.

Looks like I found 10 type errors. I'm going to use the TodoWrite tool to write 10 items to the todo list.

marking the first todo as in_progress

Let me start working on the first item...

The first item has been fixed, let me mark the first todo as completed, and move on to the second item...
..
..
</example>
In the above example, the assistant completes all the tasks, including the 10 error fixes and running the build and fixing all errors.

<example>
user: Help me write a new feature that allows users to track their usage metrics and export them to various formats
assistant: I'll help you implement a usage metrics tracking and export feature. Let me first use the TodoWrite tool to plan this task.
Adding the following todos to the todo list:
1. Research existing metrics tracking in the codebase
2. Design the metrics collection system
3. Implement core metrics tracking functionality
4. Create export functionality for different formats

Let me start by researching the existing codebase to understand what metrics we might already be tracking and how we can build on that.

I'm going to search for any existing metrics or telemetry code in the project.

I've found some existing telemetry code. Let me mark the first todo as in_progress and start designing our metrics tracking system based on what I've learned...

[Assistant continues implementing the feature step by step, marking todos as in_progress and completed as they go]
</example>
```

### 1.2 ä¸­æ–‡ç¿»è¯‘

```
# ä»»åŠ¡ç®¡ç†
ä½ å¯ä»¥ä½¿ç”¨ TodoWrite å·¥å…·æ¥å¸®åŠ©ä½ ç®¡ç†å’Œè§„åˆ’ä»»åŠ¡ã€‚**éå¸¸é¢‘ç¹åœ°**ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä»¥ç¡®ä¿ä½ åœ¨è·Ÿè¸ªä»»åŠ¡å¹¶è®©ç”¨æˆ·äº†è§£ä½ çš„è¿›åº¦ã€‚
è¿™äº›å·¥å…·å¯¹äºè§„åˆ’ä»»åŠ¡å’Œå°†è¾ƒå¤§çš„å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºè¾ƒå°çš„æ­¥éª¤ä¹Ÿ**æå…¶æœ‰å¸®åŠ©**ã€‚å¦‚æœä½ åœ¨è§„åˆ’æ—¶ä¸ä½¿ç”¨æ­¤å·¥å…·ï¼Œä½ å¯èƒ½ä¼šå¿˜è®°åšé‡è¦çš„ä»»åŠ¡ - è¿™æ˜¯ä¸å¯æ¥å—çš„ã€‚

å…³é”®æ˜¯ä½ å¿…é¡»åœ¨å®Œæˆä»»åŠ¡åç«‹å³æ ‡è®° todos ä¸ºå·²å®Œæˆã€‚ä¸è¦åœ¨æ ‡è®°ä¸ºå·²å®Œæˆä¹‹å‰æ‰¹é‡å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚

ç¤ºä¾‹ï¼š

<ç¤ºä¾‹>
ç”¨æˆ·ï¼šè¿è¡Œæ„å»ºå¹¶ä¿®å¤ä»»ä½•ç±»å‹é”™è¯¯
åŠ©æ‰‹ï¼šæˆ‘å°†ä½¿ç”¨ TodoWrite å·¥å…·å°†ä»¥ä¸‹é¡¹ç›®å†™å…¥ todo åˆ—è¡¨ï¼š
- è¿è¡Œæ„å»º
- ä¿®å¤ä»»ä½•ç±»å‹é”™è¯¯

æˆ‘ç°åœ¨è¦ä½¿ç”¨ Bash è¿è¡Œæ„å»ºã€‚

çœ‹èµ·æ¥æˆ‘å‘ç°äº† 10 ä¸ªç±»å‹é”™è¯¯ã€‚æˆ‘å°†ä½¿ç”¨ TodoWrite å·¥å…·å°† 10 ä¸ªé¡¹ç›®å†™å…¥ todo åˆ—è¡¨ã€‚

å°†ç¬¬ä¸€ä¸ª todo æ ‡è®°ä¸º in_progress

è®©æˆ‘å¼€å§‹å¤„ç†ç¬¬ä¸€ä¸ªé¡¹ç›®...

ç¬¬ä¸€ä¸ªé¡¹ç›®å·²ä¿®å¤ï¼Œè®©æˆ‘å°†ç¬¬ä¸€ä¸ª todo æ ‡è®°ä¸ºå·²å®Œæˆï¼Œç„¶åç»§ç»­ç¬¬äºŒä¸ªé¡¹ç›®...
..
..
</ç¤ºä¾‹>
åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒåŠ©æ‰‹å®Œæˆäº†æ‰€æœ‰ä»»åŠ¡ï¼ŒåŒ…æ‹¬ 10 ä¸ªé”™è¯¯ä¿®å¤ä»¥åŠè¿è¡Œæ„å»ºå’Œä¿®å¤æ‰€æœ‰é”™è¯¯ã€‚

<ç¤ºä¾‹>
ç”¨æˆ·ï¼šå¸®æˆ‘ç¼–å†™ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·è·Ÿè¸ªä»–ä»¬çš„ä½¿ç”¨æŒ‡æ ‡å¹¶å°†å…¶å¯¼å‡ºä¸ºå„ç§æ ¼å¼
åŠ©æ‰‹ï¼šæˆ‘å°†å¸®åŠ©ä½ å®ç°ä½¿ç”¨æŒ‡æ ‡è·Ÿè¸ªå’Œå¯¼å‡ºåŠŸèƒ½ã€‚è®©æˆ‘é¦–å…ˆä½¿ç”¨ TodoWrite å·¥å…·æ¥è§„åˆ’æ­¤ä»»åŠ¡ã€‚
å°†ä»¥ä¸‹ todos æ·»åŠ åˆ° todo åˆ—è¡¨ï¼š
1. ç ”ç©¶ä»£ç åº“ä¸­ç°æœ‰çš„æŒ‡æ ‡è·Ÿè¸ª
2. è®¾è®¡æŒ‡æ ‡æ”¶é›†ç³»ç»Ÿ
3. å®ç°æ ¸å¿ƒæŒ‡æ ‡è·Ÿè¸ªåŠŸèƒ½
4. ä¸ºä¸åŒæ ¼å¼åˆ›å»ºå¯¼å‡ºåŠŸèƒ½

è®©æˆ‘é¦–å…ˆç ”ç©¶ç°æœ‰ä»£ç åº“ï¼Œäº†è§£æˆ‘ä»¬å¯èƒ½å·²ç»åœ¨è·Ÿè¸ªå“ªäº›æŒ‡æ ‡ä»¥åŠå¦‚ä½•åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºã€‚

æˆ‘å°†æœç´¢é¡¹ç›®ä¸­çš„ä»»ä½•ç°æœ‰æŒ‡æ ‡æˆ–é¥æµ‹ä»£ç ã€‚

æˆ‘æ‰¾åˆ°äº†ä¸€äº›ç°æœ‰çš„é¥æµ‹ä»£ç ã€‚è®©æˆ‘å°†ç¬¬ä¸€ä¸ª todo æ ‡è®°ä¸º in_progressï¼Œå¹¶æ ¹æ®æˆ‘å­¦åˆ°çš„å†…å®¹å¼€å§‹è®¾è®¡æˆ‘ä»¬çš„æŒ‡æ ‡è·Ÿè¸ªç³»ç»Ÿ...

[åŠ©æ‰‹ç»§ç»­é€æ­¥å®ç°åŠŸèƒ½ï¼Œåœ¨è¿›è¡Œæ—¶å°† todos æ ‡è®°ä¸º in_progress å’Œ completed]
</ç¤ºä¾‹>
```

---

## äºŒã€Doing Tasks ç« èŠ‚

### 2.1 è‹±æ–‡åŸæ–‡

**æ–‡ä»¶ä½ç½®**ï¼š`packages/opencode/src/session/prompt/anthropic.txt:70-73`

```
# Doing tasks
The user will primarily request you perform software engineering tasks. This includes solving bugs, adding new functionality, refactoring code, explaining code, and more. For these tasks the following steps are recommended:
-
- Use the TodoWrite tool to plan the task if required
```

### 2.2 ä¸­æ–‡ç¿»è¯‘

```
# æ‰§è¡Œä»»åŠ¡
ç”¨æˆ·ä¸»è¦ä¼šè¯·æ±‚ä½ æ‰§è¡Œè½¯ä»¶å·¥ç¨‹ä»»åŠ¡ã€‚è¿™åŒ…æ‹¬è§£å†³ bugã€æ·»åŠ æ–°åŠŸèƒ½ã€é‡æ„ä»£ç ã€è§£é‡Šä»£ç ç­‰ã€‚å¯¹äºè¿™äº›ä»»åŠ¡ï¼Œå»ºè®®æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š
-
- å¦‚æœéœ€è¦ï¼Œä½¿ç”¨ TodoWrite å·¥å…·è§„åˆ’ä»»åŠ¡
```

---

## ä¸‰ã€Tool Usage Policy ç« èŠ‚

### 3.1 è‹±æ–‡åŸæ–‡

**æ–‡ä»¶ä½ç½®**ï¼š`packages/opencode/src/session/prompt/anthropic.txt:96`

```
IMPORTANT: Always use the TodoWrite tool to plan and track tasks throughout the conversation.
```

### 3.2 ä¸­æ–‡ç¿»è¯‘

```
é‡è¦æç¤ºï¼šå§‹ç»ˆä½¿ç”¨ TodoWrite å·¥å…·åœ¨æ•´ä¸ªå¯¹è¯è¿‡ç¨‹ä¸­è§„åˆ’å’Œè·Ÿè¸ªä»»åŠ¡ã€‚
```

---

## å››ã€è®¾è®¡åˆ†æ

### 4.1 å¤šå±‚æ¬¡å¼ºåŒ–ç­–ç•¥

OpenCode åœ¨ç³»ç»Ÿæç¤ºè¯ä¸­ **3 æ¬¡å¼ºè°ƒ** TODO å·¥å…·çš„ä½¿ç”¨ï¼š

| ä½ç½® | å†…å®¹ | å¼ºåº¦ |
|------|------|------|
| **ç¬¬ 1 æ¬¡** | Task Management ç« èŠ‚ï¼ˆç¬¬ 23 è¡Œï¼‰ | â­â­â­â­â­ æœ€è¯¦ç»† |
| **ç¬¬ 2 æ¬¡** | Doing Tasks ç« èŠ‚ï¼ˆç¬¬ 73 è¡Œï¼‰ | â­â­â­ ç®€è¦æåŠ |
| **ç¬¬ 3 æ¬¡** | Tool Usage Policy ç« èŠ‚ï¼ˆç¬¬ 96 è¡Œï¼‰ | â­â­â­â­ é‡è¦æç¤º |

**è®¾è®¡æ„å›¾**ï¼š
- é€šè¿‡å¤šæ¬¡é‡å¤ï¼Œç¡®ä¿ LLM ä¸ä¼šå¿˜è®°ä½¿ç”¨ TODO å·¥å…·
- ä»ä¸åŒè§’åº¦å¼ºè°ƒï¼ˆè¯¦ç»†è¯´æ˜ â†’ æµç¨‹æåŠ â†’ é‡è¦æç¤ºï¼‰

### 4.2 å¼ºè°ƒæŠ€å·§åˆ†æ

#### æŠ€å·§ 1ï¼šä½¿ç”¨å¤§å†™å’Œç²—ä½“

```
Use these tools VERY frequently
These tools are also EXTREMELY helpful
IMPORTANT: Always use the TodoWrite tool
```

**æ•ˆæœ**ï¼š
- `VERY` å’Œ `EXTREMELY` å¤§å†™å¼ºè°ƒç¨‹åº¦
- `IMPORTANT` æ ‡è®°å…³é”®ä¿¡æ¯
- å¼•èµ· LLM çš„æ³¨æ„

#### æŠ€å·§ 2ï¼šè´Ÿé¢åæœè­¦å‘Š

```
If you do not use this tool when planning, you may forget to do important tasks -
and that is unacceptable.
```

**æ•ˆæœ**ï¼š
- æ˜ç¡®ä¸ä½¿ç”¨çš„åæœ
- ä½¿ç”¨ "unacceptable" å¼ºè°ƒä¸¥é‡æ€§
- ä¿ƒä½¿ LLM ä¸»åŠ¨ä½¿ç”¨å·¥å…·

#### æŠ€å·§ 3ï¼šå…³é”®è¡Œä¸ºè§„åˆ™

```
It is critical that you mark todos as completed as soon as you are done with a task.
Do not batch up multiple tasks before marking them as completed.
```

**æ•ˆæœ**ï¼š
- ä½¿ç”¨ "critical" å¼ºè°ƒé‡è¦æ€§
- æ˜ç¡®ç¦æ­¢çš„è¡Œä¸ºï¼ˆ"Do not batch up"ï¼‰
- ç¡®ä¿åŠæ—¶æ›´æ–°çŠ¶æ€

#### æŠ€å·§ 4ï¼šå®Œæ•´ç¤ºä¾‹

ä¸¤ä¸ªå®Œæ•´ç¤ºä¾‹å±•ç¤ºï¼š
1. **ç¤ºä¾‹ 1**ï¼šåŠ¨æ€è°ƒæ•´ TODOï¼ˆå‘ç° 10 ä¸ªé”™è¯¯åæ·»åŠ  10 ä¸ª TODOï¼‰
2. **ç¤ºä¾‹ 2**ï¼šç³»ç»Ÿè§„åˆ’ï¼ˆåˆ†æ­¥å®ç°æ–°åŠŸèƒ½ï¼‰

**æ•ˆæœ**ï¼š
- å±•ç¤ºå®é™…ä½¿ç”¨åœºæ™¯
- æ•™ä¼š LLM å¦‚ä½•ä½¿ç”¨å·¥å…·
- æä¾›å¯æ¨¡ä»¿çš„æ¨¡å¼

### 4.3 æç¤ºè¯ä½ç½®ç­–ç•¥

```
ç³»ç»Ÿæç¤ºè¯ç»“æ„ï¼š
â”œâ”€â”€ å¼€å¤´éƒ¨åˆ†
â”‚   â”œâ”€â”€ è§’è‰²å®šä½
â”‚   â”œâ”€â”€ åŸºæœ¬è§„åˆ™
â”‚   â””â”€â”€ Tone and style
â”œâ”€â”€ æ ¸å¿ƒéƒ¨åˆ† â† Task Management åœ¨è¿™é‡Œï¼ˆç¬¬ 23 è¡Œï¼‰
â”‚   â”œâ”€â”€ # Task Management â­â­â­â­â­
â”‚   â”œâ”€â”€ # Doing tasks â­â­â­
â”‚   â””â”€â”€ # Tool usage policy
â”œâ”€â”€ è¯¦ç»†æŒ‡å¯¼
â”‚   â””â”€â”€ ...
â””â”€â”€ ç»“å°¾éƒ¨åˆ†
    â””â”€â”€ IMPORTANT: Always use... â­â­â­â­
```

**è®¾è®¡æ„å›¾**ï¼š
- åœ¨æ ¸å¿ƒéƒ¨åˆ†æ—©æœŸæåŠï¼ˆç¬¬ 23 è¡Œï¼‰ï¼šç¡®ä¿ LLM ä¼˜å…ˆçœ‹åˆ°
- åœ¨ç»“å°¾é‡å¤å¼ºè°ƒï¼ˆç¬¬ 96 è¡Œï¼‰ï¼šåŠ å¼ºè®°å¿†
- åœ¨ä»»åŠ¡æ‰§è¡Œæµç¨‹ä¸­æåŠï¼ˆç¬¬ 73 è¡Œï¼‰ï¼šå…³è”å…·ä½“åœºæ™¯

### 4.4 ç¤ºä¾‹è®¾è®¡åˆ†æ

#### ç¤ºä¾‹ 1ï¼šåŠ¨æ€è°ƒæ•´

```
I'm going to use the TodoWrite tool to write the following items:
- Run the build
- Fix any type errors

Looks like I found 10 type errors. I'm going to use the TodoWrite tool
to write 10 items to the todo list.
```

**æ•™å­¦æ„å›¾**ï¼š
- âœ… TODO åˆ—è¡¨æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥éšæ—¶è°ƒæ•´
- âœ… å‘ç°æ–°ä»»åŠ¡æ—¶åº”ç«‹å³æ·»åŠ 
- âœ… å±•ç¤ºå®æ—¶æ›´æ–°çš„æ¨¡å¼

#### ç¤ºä¾‹ 2ï¼šç³»ç»Ÿè§„åˆ’

```
Adding the following todos:
1. Research existing metrics tracking in the codebase
2. Design the metrics collection system
3. Implement core metrics tracking functionality
4. Create export functionality for different formats
```

**æ•™å­¦æ„å›¾**ï¼š
- âœ… å…ˆè§„åˆ’åæ‰§è¡Œ
- âœ… å°†å¤§ä»»åŠ¡åˆ†è§£ä¸ºå°æ­¥éª¤
- âœ… æŒ‰é¡ºåºæ‰§è¡Œä»»åŠ¡

### 4.5 ä¸å·¥å…·æè¿°çš„ååŒ

| å±‚çº§ | å†…å®¹ | è¯¦ç»†ç¨‹åº¦ |
|------|------|----------|
| **å·¥å…·æè¿°** | todowrite.txtï¼ˆ167 è¡Œï¼‰ | â­â­â­â­â­ æè¯¦ç»† |
| **ç³»ç»Ÿæç¤ºè¯** | Task Managementï¼ˆ45 è¡Œï¼‰ | â­â­â­â­ è¯¦ç»† |
| **ç¤ºä¾‹** | 2 ä¸ªå®Œæ•´ç¤ºä¾‹ | â­â­â­ é€‚ä¸­ |

**ååŒæ•ˆæœ**ï¼š
```
å·¥å…·æè¿°: å‘Šè¯‰ LLM "å¦‚ä½•ä½¿ç”¨"ï¼ˆHowï¼‰
    â†“
ç³»ç»Ÿæç¤ºè¯: å‘Šè¯‰ LLM "ä½•æ—¶ä½¿ç”¨"ï¼ˆWhenï¼‰
    â†“
ç¤ºä¾‹: å±•ç¤º "å®é™…ä½¿ç”¨"ï¼ˆExampleï¼‰
```

---

## äº”ã€æœ€ä½³å®è·µ

### 5.1 ç³»ç»Ÿæç¤ºè¯è®¾è®¡åŸåˆ™

âœ… **DO**ï¼š

1. **å¤šæ¬¡å¼ºåŒ–**
   ```
   - åœ¨æ ¸å¿ƒéƒ¨åˆ†è¯¦ç»†è¯´æ˜
   - åœ¨æµç¨‹ä¸­ç®€è¦æåŠ
   - åœ¨ç»“å°¾é‡ç‚¹å¼ºè°ƒ
   ```

2. **ä½¿ç”¨å¼ºè°ƒæ‰‹æ³•**
   ```
   - å¤§å†™å…³é”®è¯ï¼ˆVERY, EXTREMELY, IMPORTANTï¼‰
   - æ˜ç¡®åæœï¼ˆ"unacceptable", "critical"ï¼‰
   - ç¦æ­¢è¡Œä¸ºï¼ˆ"Do not..."ï¼‰
   ```

3. **æä¾›å®Œæ•´ç¤ºä¾‹**
   ```
   - å±•ç¤ºçœŸå®ä½¿ç”¨åœºæ™¯
   - åŒ…å«å¤šæ­¥éª¤æµç¨‹
   - ä½“ç°åŠ¨æ€è°ƒæ•´
   ```

4. **å…³è”å…·ä½“åœºæ™¯**
   ```
   - åœ¨ä»»åŠ¡æ‰§è¡Œæµç¨‹ä¸­æåŠ
   - ä¸å…¶ä»–å·¥å…·ååŒ
   - æ˜ç¡®ä½¿ç”¨æ—¶æœº
   ```

âŒ **DON'T**ï¼š

1. åªåœ¨ä¸€ä¸ªåœ°æ–¹æåŠ
2. ç¼ºå°‘å¼ºè°ƒå’Œè­¦å‘Š
3. æ²¡æœ‰å…·ä½“ç¤ºä¾‹
4. å­¤ç«‹åœ°ä»‹ç»å·¥å…·

### 5.2 ç¤ºä¾‹è®¾è®¡åŸåˆ™

âœ… **DO**ï¼š

1. **å±•ç¤ºåŠ¨æ€è°ƒæ•´**
   ```
   å‘ç°æ–°ä»»åŠ¡ â†’ ç«‹å³æ·»åŠ  TODO
   ```

2. **ä½“ç°çŠ¶æ€è½¬æ¢**
   ```
   pending â†’ in_progress â†’ completed
   ```

3. **åŒ…å«å®é™…æ“ä½œ**
   ```
   ä¸ä»…è§„åˆ’ï¼Œè¿˜è¦å±•ç¤ºæ‰§è¡Œ
   ```

4. **å¤šæ ·åŒ–åœºæ™¯**
   ```
   - ç¤ºä¾‹ 1: ä¿®å¤é”™è¯¯ï¼ˆåŠ¨æ€è°ƒæ•´ï¼‰
   - ç¤ºä¾‹ 2: æ–°åŠŸèƒ½ï¼ˆç³»ç»Ÿè§„åˆ’ï¼‰
   ```

âŒ **DON'T**ï¼š

1. åªå±•ç¤ºé™æ€ TODO åˆ—è¡¨
2. å¿½ç•¥çŠ¶æ€è½¬æ¢
3. ç¼ºå°‘æ‰§è¡Œç»†èŠ‚
4. æ‰€æœ‰ç¤ºä¾‹é›·åŒ

### 5.3 å¼ºè°ƒæŠ€å·§æ€»ç»“

| æŠ€å·§ | ç¤ºä¾‹ | æ•ˆæœ |
|------|------|------|
| **å¤§å†™å¼ºè°ƒ** | `VERY frequently`, `EXTREMELY helpful` | å¼•èµ·æ³¨æ„ |
| **é‡è¦æ ‡è®°** | `IMPORTANT:`, `It is critical` | çªå‡ºå…³é”® |
| **è´Ÿé¢åæœ** | `unacceptable`, `you may forget` | è­¦ç¤ºä½œç”¨ |
| **ç¦æ­¢è¡Œä¸º** | `Do not batch up` | æ˜ç¡®è¾¹ç•Œ |
| **å¤šæ¬¡é‡å¤** | 3 æ¬¡æåŠ TODO å·¥å…· | åŠ å¼ºè®°å¿† |

---

## å…­ã€å¯¹æ¯”ï¼šå·¥å…·æè¿° vs ç³»ç»Ÿæç¤ºè¯

### 6.1 å†…å®¹å®šä½

| ç»´åº¦ | å·¥å…·æè¿° | ç³»ç»Ÿæç¤ºè¯ |
|------|----------|-----------|
| **å—ä¼—** | LLMï¼ˆå·¥å…·è°ƒç”¨æ—¶ï¼‰ | LLMï¼ˆå…¨å±€æŒ‡å¯¼ï¼‰ |
| **æ—¶æœº** | é€‰æ‹©å·¥å…·æ—¶é˜…è¯» | ä¼šè¯å¼€å§‹æ—¶é˜…è¯» |
| **ç›®çš„** | å¦‚ä½•ä½¿ç”¨å·¥å…· | ä½•æ—¶ä½¿ç”¨å·¥å…· |
| **è¯¦ç»†åº¦** | æè¯¦ç»†ï¼ˆ167 è¡Œï¼‰ | é€‚ä¸­ï¼ˆ45 è¡Œï¼‰ |
| **ç¤ºä¾‹** | 8 ä¸ªï¼ˆæ­£åï¼‰ | 2 ä¸ªï¼ˆæ‰§è¡Œæµç¨‹ï¼‰ |

### 6.2 äº’è¡¥å…³ç³»

```
ç³»ç»Ÿæç¤ºè¯: "ä½ åº”è¯¥ä½¿ç”¨ TodoWrite å·¥å…·"
     â†“
LLM å†³å®š: "å¥½çš„ï¼Œæˆ‘è¦ä½¿ç”¨è¿™ä¸ªå·¥å…·"
     â†“
å·¥å…·æè¿°: "è¿™æ˜¯å¦‚ä½•ä½¿ç”¨ TodoWrite çš„è¯¦ç»†æŒ‡å—"
     â†“
LLM æ‰§è¡Œ: æ­£ç¡®è°ƒç”¨å·¥å…·
```

### 6.3 åˆ†å·¥æ˜ç¡®

| å†…å®¹ç±»å‹ | å·¥å…·æè¿° | ç³»ç»Ÿæç¤ºè¯ |
|----------|----------|-----------|
| **ä½¿ç”¨åœºæ™¯** | â­â­â­â­â­ è¯¦ç»†åˆ—ä¸¾ | â­â­â­ ç®€è¦æåŠ |
| **å‚æ•°è¯´æ˜** | â­â­â­â­â­ å®Œæ•´å®šä¹‰ | â­ ä¸æ¶‰åŠ |
| **çŠ¶æ€ç®¡ç†** | â­â­â­â­â­ è¯¦ç»†è§„åˆ™ | â­â­â­ å…³é”®æé†’ |
| **æ‰§è¡Œæµç¨‹** | â­â­â­ ç¤ºä¾‹å±•ç¤º | â­â­â­â­ æµç¨‹æŒ‡å¯¼ |
| **å¼ºè°ƒç¨‹åº¦** | â­â­â­â­ å·¥å…·çº§åˆ« | â­â­â­â­â­ å…¨å±€çº§åˆ« |

---

## ä¸ƒã€æ€»ç»“

### 7.1 ç³»ç»Ÿæç¤ºè¯çš„ä½œç”¨

1. **å…¨å±€æŒ‡å¯¼**ï¼šå‘Šè¯‰ LLM åœ¨æ•´ä¸ªä¼šè¯ä¸­åº”è¯¥å¦‚ä½•ä½¿ç”¨å·¥å…·
2. **ä¼˜å…ˆçº§æç¤º**ï¼šé€šè¿‡å¤šæ¬¡å¼ºè°ƒç¡®ä¿å·¥å…·è¢«ä¸»åŠ¨ä½¿ç”¨
3. **æµç¨‹é›†æˆ**ï¼šå°†å·¥å…·ä½¿ç”¨æ•´åˆåˆ°ä»»åŠ¡æ‰§è¡Œæµç¨‹ä¸­
4. **ç¤ºä¾‹æ•™å­¦**ï¼šé€šè¿‡å®Œæ•´ç¤ºä¾‹å±•ç¤ºæ­£ç¡®çš„ä½¿ç”¨æ¨¡å¼

### 7.2 å…³é”®è®¾è®¡ç­–ç•¥

1. **ä¸‰å±‚å¼ºåŒ–**ï¼šæ ¸å¿ƒè¯´æ˜ + æµç¨‹æåŠ + é‡è¦æç¤º
2. **å¤§å†™å¼ºè°ƒ**ï¼šVERY, EXTREMELY, IMPORTANT
3. **è´Ÿé¢è­¦å‘Š**ï¼šunacceptable, critical
4. **å®Œæ•´ç¤ºä¾‹**ï¼š2 ä¸ªä¸åŒåœºæ™¯çš„è¯¦ç»†ç¤ºä¾‹

### 7.3 ä¸å·¥å…·æè¿°çš„ååŒ

```
å·¥å…·æè¿°ï¼ˆ167 è¡Œï¼‰: è¯¦ç»†çš„"ä½¿ç”¨æ‰‹å†Œ"
        +
ç³»ç»Ÿæç¤ºè¯ï¼ˆ45 è¡Œï¼‰: å¼ºè°ƒçš„"ä½¿ç”¨æŒ‡å¯¼"
        =
å®Œç¾çš„å·¥å…·ä½¿ç”¨ä½“éªŒ
```

---

**è¿™æ˜¯ä¸€ä»½ç²¾å¿ƒè®¾è®¡çš„ç³»ç»Ÿæç¤ºè¯ï¼** ğŸ¯
